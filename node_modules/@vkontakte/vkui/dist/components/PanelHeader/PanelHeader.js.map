{"version":3,"sources":["../../../src/components/PanelHeader/PanelHeader.js"],"names":["baseClassNames","PanelHeader","ready","leftNode","document","getElementById","context","panel","addonNode","titleNode","rightNode","bgNode","props","getRef","setState","left","addon","children","right","theme","noShadow","transparent","isPrimitive","state","ReactDOM","createPortal","indexOf","scheme","IS_PLATFORM_IOS","webviewType","React","Component","PropTypes","node","oneOf","bool","func","string","any"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\n\nexport const baseClassNames = getClassName('PanelHeader');\n\nexport default class PanelHeader extends React.Component {\n  static propTypes = {\n    left: PropTypes.node,\n    /**\n     * iOS only\n     */\n    addon: PropTypes.node,\n    right: PropTypes.node,\n    children: PropTypes.node,\n    /**\n     * Вместо `light` используйте `alternate`. Значение `light` устарело и будет удалено в следующей\n     * мажорной версии.\n     */\n    theme: PropTypes.oneOf(['light', 'alternate', 'brand']),\n    /**\n     * @ignore\n     */\n    transparent: PropTypes.bool,\n    noShadow: PropTypes.bool,\n    getRef: PropTypes.func\n  };\n\n  static defaultProps = {\n    theme: 'brand',\n    transparent: false,\n    noShadow: false\n  };\n\n  static contextTypes = {\n    panel: PropTypes.string,\n    document: PropTypes.any,\n    scheme: PropTypes.string,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal'])\n  };\n\n  state = {\n    ready: false\n  };\n\n  get document () { return this.context.document || document; }\n\n  get webviewType () { return this.context.webviewType || 'vkapps'; }\n\n  componentDidMount () {\n    this.leftNode = this.document.getElementById('header-left-' + this.context.panel);\n    this.addonNode = this.document.getElementById('header-addon-' + this.context.panel);\n    this.titleNode = this.document.getElementById('header-title-' + this.context.panel);\n    this.rightNode = this.document.getElementById('header-right-' + this.context.panel);\n    this.bgNode = this.document.getElementById('header-bg-' + this.context.panel);\n    this.props.getRef && this.props.getRef(this.document.getElementById(`panel-header-${this.context.panel}`));\n    this.setState({ ready: true });\n  }\n\n  render () {\n    let { left, addon, children, right, theme, noShadow, transparent } = this.props;\n    const isPrimitive = typeof children === 'string' || typeof children === 'number';\n\n    return this.state.ready ? [\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-bg', {\n        [`PanelHeader-bg--${theme}`]: true,\n        'PanelHeader-bg--tp': transparent,\n        [`PanelHeader-bg--no-shadow`]: noShadow || ['bright_light', 'space_gray'].indexOf(this.context.scheme) >= 0\n      })}/>, this.bgNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-left-in', {\n        [`PanelHeader-left-in--${theme}`]: true,\n        'PanelHeader-left-in--tp': transparent\n      })}>{left}</div>, this.leftNode),\n      IS_PLATFORM_IOS && ReactDOM.createPortal(<div className={classNames('PanelHeader-addon', {\n        [`PanelHeader-addon--${theme}`]: true,\n        'PanelHeader-addon--tp': transparent\n      })}>{addon}</div>, this.addonNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-content', {\n        [`PanelHeader-content--${theme}`]: true,\n        'PanelHeader-content--tp': transparent\n      })}>\n        {isPrimitive ? <span>{children}</span> : children}\n      </div>, this.titleNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-right', {\n        [`PanelHeader-right--${theme}`]: true,\n        'PanelHeader-right--tp': transparent,\n        'PanelHeader-right--vkapps': this.webviewType === 'vkapps'\n      })}>{this.webviewType === 'internal' ? right : null}</div>, this.rightNode)\n    ] : null;\n  }\n}\n"],"file":"PanelHeader.js"}