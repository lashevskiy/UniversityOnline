{"version":3,"file":"react-yandex-maps.umd.production.min.js","sources":["node_modules/prop-types/lib/ReactPropTypesSecret.js","node_modules/prop-types/factoryWithThrowingShims.js","node_modules/prop-types/index.js","node_modules/gud/index.js","node_modules/fbjs/lib/emptyFunction.js","node_modules/create-react-context/lib/implementation.js","node_modules/create-react-context/lib/index.js","node_modules/react-display-name/lib/getDisplayName.js","src/Context.js","src/YMaps.js","src/util/set.js","src/Provider.js","src/util/omit.js","src/withYMaps.js","src/util/events.js","src/util/props.js","src/Map.js","src/geo-objects/Clusterer.js","src/geo-objects/ObjectManager.js","src/geo-objects/createGeoObject.js","src/geo-objects/GeoObjects.js","src/controls/createControl.js","src/controls/Controls.js"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","// @flow\n'use strict';\n\nvar key = '__global_unique_id__';\n\nmodule.exports = function() {\n  return global[key] = (global[key] || 0) + 1;\n};\n","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _gud = require('gud');\n\nvar _gud2 = _interopRequireDefault(_gud);\n\nvar _warning = require('fbjs/lib/warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MAX_SIGNED_31_BIT_INT = 1073741823;\n\n// Inlined Object.is polyfill.\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction objectIs(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nfunction createEventEmitter(value) {\n  var handlers = [];\n  return {\n    on: function on(handler) {\n      handlers.push(handler);\n    },\n    off: function off(handler) {\n      handlers = handlers.filter(function (h) {\n        return h !== handler;\n      });\n    },\n    get: function get() {\n      return value;\n    },\n    set: function set(newValue, changedBits) {\n      value = newValue;\n      handlers.forEach(function (handler) {\n        return handler(value, changedBits);\n      });\n    }\n  };\n}\n\nfunction onlyChild(children) {\n  return Array.isArray(children) ? children[0] : children;\n}\n\nfunction createReactContext(defaultValue, calculateChangedBits) {\n  var _Provider$childContex, _Consumer$contextType;\n\n  var contextProp = '__create-react-context-' + (0, _gud2.default)() + '__';\n\n  var Provider = function (_Component) {\n    _inherits(Provider, _Component);\n\n    function Provider() {\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, Provider);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.emitter = createEventEmitter(_this.props.value), _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Provider.prototype.getChildContext = function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextProp] = this.emitter, _ref;\n    };\n\n    Provider.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      if (this.props.value !== nextProps.value) {\n        var oldValue = this.props.value;\n        var newValue = nextProps.value;\n        var changedBits = void 0;\n\n        if (objectIs(oldValue, newValue)) {\n          changedBits = 0; // No change\n        } else {\n          changedBits = typeof calculateChangedBits === 'function' ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;\n          if (process.env.NODE_ENV !== 'production') {\n            (0, _warning2.default)((changedBits & MAX_SIGNED_31_BIT_INT) === changedBits, 'calculateChangedBits: Expected the return value to be a ' + '31-bit integer. Instead received: %s', changedBits);\n          }\n\n          changedBits |= 0;\n\n          if (changedBits !== 0) {\n            this.emitter.set(nextProps.value, changedBits);\n          }\n        }\n      }\n    };\n\n    Provider.prototype.render = function render() {\n      return this.props.children;\n    };\n\n    return Provider;\n  }(_react.Component);\n\n  Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = _propTypes2.default.object.isRequired, _Provider$childContex);\n\n  var Consumer = function (_Component2) {\n    _inherits(Consumer, _Component2);\n\n    function Consumer() {\n      var _temp2, _this2, _ret2;\n\n      _classCallCheck(this, Consumer);\n\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, _Component2.call.apply(_Component2, [this].concat(args))), _this2), _this2.state = {\n        value: _this2.getValue()\n      }, _this2.onUpdate = function (newValue, changedBits) {\n        var observedBits = _this2.observedBits | 0;\n        if ((observedBits & changedBits) !== 0) {\n          _this2.setState({ value: _this2.getValue() });\n        }\n      }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n    }\n\n    Consumer.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      var observedBits = nextProps.observedBits;\n\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default\n      : observedBits;\n    };\n\n    Consumer.prototype.componentDidMount = function componentDidMount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].on(this.onUpdate);\n      }\n      var observedBits = this.props.observedBits;\n\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default\n      : observedBits;\n    };\n\n    Consumer.prototype.componentWillUnmount = function componentWillUnmount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].off(this.onUpdate);\n      }\n    };\n\n    Consumer.prototype.getValue = function getValue() {\n      if (this.context[contextProp]) {\n        return this.context[contextProp].get();\n      } else {\n        return defaultValue;\n      }\n    };\n\n    Consumer.prototype.render = function render() {\n      return onlyChild(this.props.children)(this.state.value);\n    };\n\n    return Consumer;\n  }(_react.Component);\n\n  Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = _propTypes2.default.object, _Consumer$contextType);\n\n\n  return {\n    Provider: Provider,\n    Consumer: Consumer\n  };\n}\n\nexports.default = createReactContext;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _implementation = require('./implementation');\n\nvar _implementation2 = _interopRequireDefault(_implementation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _react2.default.createContext || _implementation2.default;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getDisplayName;\nfunction getDisplayName(Component) {\n  return Component.displayName || Component.name || (typeof Component === 'string' && Component.length > 0 ? Component : 'Unknown');\n}","import React from 'react';\nimport createReactContext from 'create-react-context';\nimport name from 'react-display-name';\n\nexport const YMapsContext = createReactContext(null);\n\nexport const withYMapsContext = Component => {\n  const displayName = name(Component);\n\n  const WithYMapsContext = props => (\n    <YMapsContext.Consumer>\n      {ymaps => {\n        if (ymaps === null) {\n          const message =\n            \"Couldn't find Yandex.Maps API in the context. \" +\n            `Make sure that <${displayName} /> is inside <YMaps /> provider`;\n\n          throw new Error(message);\n        }\n        return <Component ymaps={ymaps} {...props} />;\n      }}\n    </YMapsContext.Consumer>\n  );\n\n  if (process.env.NODE_ENV !== 'production') {\n    WithYMapsContext.displayName = `withYMapsContext(${displayName})`;\n  }\n\n  return WithYMapsContext;\n};\n\nexport const ParentContext = createReactContext(null);\n\nexport const withParentContext = Component => {\n  const WithParentContext = props => (\n    <ParentContext.Consumer>\n      {parent => <Component parent={parent} {...props} />}\n    </ParentContext.Consumer>\n  );\n\n  if (process.env.NODE_ENV !== 'production') {\n    WithParentContext.displayName = `withParentContext(${name(Component)})`;\n  }\n\n  return WithParentContext;\n};\n","import set from './util/set';\n\nconst defaultQuery = {\n  lang: 'ru_RU',\n  load: '',\n  ns: '',\n  mode: process.env.NODE_ENV !== 'production' ? 'debug' : 'release',\n};\n\nconst YMapsPromiseMap = {};\n\nexport class YMaps {\n  constructor(options) {\n    const hash = Date.now().toString(32);\n\n    this.options = options;\n    this.namespace = options.query.ns;\n\n    this.onload = YMaps.onloadCallback + '$$' + hash;\n    this.onerror = YMaps.onerrorCallback + '$$' + hash;\n\n    this.api;\n    this.promise;\n  }\n\n  getApi() {\n    return typeof window !== 'undefined' && this.namespace\n      ? window[this.namespace]\n      : this.api;\n  }\n\n  setApi(api) {\n    return (this.api = api);\n  }\n\n  getPromise() {\n    return this.namespace ? YMapsPromiseMap[this.namespace] : this.promise;\n  }\n\n  setPromise(promise) {\n    return this.namespace\n      ? (YMapsPromiseMap[this.namespace] = this.promise = promise)\n      : (this.promise = promise);\n  }\n\n  load() {\n    if (this.getApi()) return Promise.resolve(this.setApi(this.getApi()));\n    if (this.getPromise()) return this.setPromise(this.getPromise());\n\n    const query = Object.assign(\n      {\n        onload: this.onload,\n        onerror: this.onerror,\n      },\n      defaultQuery,\n      this.options.query\n    );\n\n    const queryString = Object.keys(query)\n      .map(key => `${key}=${query[key]}`)\n      .join('&');\n\n    const baseUrl = YMaps.getBaseUrl(this.options.enterprise);\n\n    const url = [baseUrl, this.options.version, '?' + queryString].join('/');\n\n    const promise = new Promise((resolve, reject) => {\n      window[this.onload] = ymaps => {\n        delete window[this.onload];\n        ymaps.loadModule = this.loadModule.bind(this);\n        ymaps.ready(() => resolve(this.setApi(ymaps)));\n      };\n\n      window[this.onerror] = err => {\n        delete window[this.onerror];\n        reject(err);\n      };\n\n      this.fetchScript(url).catch(window[this.onerror]);\n    });\n\n    return this.setPromise(promise);\n  }\n\n  fetchScript(url) {\n    return new Promise((resolve, reject) => {\n      this.script = document.createElement('script');\n\n      this.script.type = 'text/javascript';\n      this.script.onload = resolve;\n      this.script.onerror = reject;\n      this.script.src = url;\n      this.script.async = 'async';\n\n      document.head.appendChild(this.script);\n    });\n  }\n\n  loadModule(moduleName) {\n    return new Promise((resolve, reject) => {\n      this.getApi().modules.require(\n        moduleName,\n        Module => {\n          set(this.api, moduleName, Module, true);\n          resolve(Module);\n        },\n        reject,\n        this.getApi()\n      );\n    });\n  }\n}\n\nYMaps._name = '__react-yandex-maps__';\n\nYMaps.onloadCallback = '__yandex-maps-api-onload__';\n\nYMaps.onerrorCallback = '__yandex-maps-api-onerror__';\n\nYMaps.getBaseUrl = function getBaseUrl(isEnterprise) {\n  return `https://${isEnterprise ? 'enterprise.' : ''}api-maps.yandex.ru`;\n};\n","/**\n * Set value in object by path\n *\n * @param {Object} object Object to set value to\n * @param {string | string[]} path Path to value\n * @param {any} value Value\n * @param {boolean} [ifNotExists] Will skip setting value if value exists\n */\nconst set = (object, path, value, ifNotExists = false) => {\n  path = typeof path === 'string' ? path.split('.') : path.slice();\n  let key,\n    ref = object;\n  while (path.length > 1) {\n    key = path.shift();\n    if (!ref[key]) ref[key] = {};\n    ref = ref[key];\n  }\n  ref[path[0]] = ifNotExists === true ? ref[path[0]] || value : value;\n  return object;\n};\n\nexport default set;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { YMapsContext } from './Context';\nimport { YMaps } from './YMaps';\n\nexport default class Provider extends React.Component {\n  constructor(props) {\n    super(props);\n    this.ymaps = new YMaps(props);\n  }\n\n  componentDidMount() {\n    if (this.props.preload === true) {\n      this.ymaps.load();\n    }\n  }\n\n  render() {\n    return (\n      <YMapsContext.Provider value={this.ymaps}>\n        {this.props.children}\n      </YMapsContext.Provider>\n    );\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  Provider.propTypes = {\n    version: PropTypes.string.isRequired,\n    enterprise: PropTypes.bool,\n\n    // Yandex.Maps API avaliable query params\n    // https://tech.yandex.com/maps/doc/jsapi/2.1/dg/concepts/load-docpage/\n    // Some query params will be omitted in any case because they are used\n    // by the library: onload, onerror\n    query: PropTypes.shape({\n      lang: PropTypes.oneOf([\n        'tr_TR',\n        'en_US',\n        'en_RU',\n        'ru_RU',\n        'ru_UA',\n        'uk_UA',\n      ]),\n      apikey: PropTypes.string,\n      coordorder: PropTypes.oneOf(['latlong', 'longlat']),\n      load: PropTypes.string,\n      mode: PropTypes.oneOf(['release', 'debug']),\n      csp: PropTypes.bool,\n      ns: PropTypes.string,\n    }),\n\n    children: PropTypes.node,\n\n    // Allows provider to preload Yandex.Maps API even if\n    // there are no map components on the page\n    preload: PropTypes.bool,\n  };\n}\n\nProvider.defaultProps = {\n  version: '2.1',\n  enterprise: false,\n  query: {\n    lang: 'ru_RU',\n    load: '',\n    ns: '',\n  },\n  preload: false,\n};\n","/**\n * Helper method to remove keys from the object\n *\n * @param {Object} obj Object to remove keys from\n * @param {string[]} arr List of keys to remove\n * @returns {Object} Object with omitted keys\n */\nexport const omit = (obj, arr) => {\n  const res = {};\n  for (var n in obj) {\n    if (arr.indexOf(n) === -1) res[n] = obj[n];\n  }\n  return res;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport name from 'react-display-name';\n\nimport { omit } from './util/omit';\nimport { withYMapsContext } from './Context';\n\nexport default function withYMaps(Component, waitForApi = false, modules = []) {\n  class WithYMaps extends React.Component {\n    constructor() {\n      super();\n\n      this.state = { loading: true };\n      this._isMounted = false;\n    }\n\n    componentDidMount() {\n      this._isMounted = true;\n\n      this.props.ymaps\n        .load()\n        .then(api => {\n          return Promise.all(\n            modules.concat(this.props.modules).map(api.loadModule)\n          ).then(() => {\n            if (this._isMounted === true) {\n              this.setState({ loading: false }, () => {\n                this.props.onLoad(api);\n              });\n            }\n          });\n        })\n        .catch(err => {\n          if (this._isMounted === true) {\n            this.props.onError(err);\n          }\n        });\n    }\n\n    componentWillUnmount() {\n      this._isMounted = false;\n    }\n\n    render() {\n      const { ymaps } = this.props;\n      const { loading } = this.state;\n\n      const shouldRender = waitForApi === false || loading === false;\n\n      const props = omit(this.props, ['onLoad', 'onError', 'modules', 'ymaps']);\n\n      return shouldRender && <Component ymaps={ymaps.getApi()} {...props} />;\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    WithYMaps.displayName = `withYMaps(${name(Component)})`;\n\n    WithYMaps.propTypes = {\n      onLoad: PropTypes.func,\n      onError: PropTypes.func,\n      modules: PropTypes.arrayOf(PropTypes.string),\n      ymaps: PropTypes.object,\n    };\n  }\n\n  WithYMaps.defaultProps = {\n    onLoad: Function.prototype,\n    onError: Function.prototype,\n    modules: [],\n  };\n\n  return withYMapsContext(WithYMaps);\n}\n","const EVENTS_REGEX = /^on(?=[A-Z])/;\n\n/**\n * Separates YMaps events from other component props based on prop name\n *\n * @param {Object} props Component props\n * @returns {Object} Separated _event props and other component props\n */\nexport function separateEvents(props) {\n  return Object.keys(props).reduce(\n    (acc, key) => {\n      if (EVENTS_REGEX.test(key)) {\n        const eventName = key.replace(EVENTS_REGEX, '').toLowerCase();\n        acc._events[eventName] = props[key];\n      } else {\n        acc[key] = props[key];\n      }\n\n      return acc;\n    },\n    { _events: {} }\n  );\n}\n\n/**\n * Adds event to YMaps object\n *\n * @param {Object} instance YMaps object instance\n * @param {string} eventName Event name (e.g., \"onclick\", \"ontouchstart\")\n * @param {Function} handler Event handler method\n */\nexport function addEvent(instance, eventName, handler) {\n  if (typeof handler === 'function') {\n    instance.events.add(eventName, handler);\n  }\n}\n\n/**\n * Removes event from YMaps object\n *\n * @param {Object} instance YMaps object instance\n * @param {string} eventName Event name (e.g., \"onclick\", \"ontouchstart\")\n * @param {Function} handler Event handler method\n */\nexport function removeEvent(instance, eventName, handler) {\n  if (typeof handler === 'function') {\n    instance.events.remove(eventName, handler);\n  }\n}\n\n/**\n * Given two objects with new and old events, checks if event was\n * changed and updates it by removing the old one and adding the\n * new one\n *\n * @param {Object} instance YMaps object instance\n * @param {Object} oldEvents Map of old events\n * @param {Object} newEvents Map of new events\n */\nexport function updateEvents(instance, oldEvents, newEvents) {\n  Object.keys(Object.assign({}, oldEvents, newEvents)).forEach(eventName => {\n    if (oldEvents[eventName] !== newEvents[eventName]) {\n      removeEvent(instance, eventName, oldEvents[eventName]);\n      addEvent(instance, eventName, newEvents[eventName]);\n    }\n  });\n}\n","const defaultName = name =>\n  'default' + name.charAt(0).toUpperCase() + name.slice(1);\n\n/**\n * Checks if key exists on an object\n *\n * @param {Object} props Component props\n * @param {string} key Prop key\n * @returns {boolean} Check result\n */\nexport function isControlledProp(props, key) {\n  return props[key] !== undefined || props[defaultName(key)] === undefined;\n}\n\n/**\n * Checks if prop exists, otherwise returns \"uncontrolled\"\n * prop that starts with default (e.g., defaultValue)\n *\n * @param {Object} props Component props\n * @param {string} key Prop key\n * @return {any} Prop value\n */\nexport function getProp(props, key, defaultValue) {\n  return (\n    (isControlledProp(props, key) ? props[key] : props[defaultName(key)]) ||\n    defaultValue\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport * as events from './util/events';\nimport { omit } from './util/omit';\nimport { getProp, isControlledProp } from './util/props';\nimport withYMaps from './withYMaps';\nimport { ParentContext } from './Context';\n\nexport class Map extends React.Component {\n  constructor() {\n    super();\n    this.state = { instance: null };\n    this._parentElement = null;\n    this._getRef = ref => {\n      this._parentElement = ref;\n    };\n  }\n\n  componentDidMount() {\n    const instance = Map.mountObject(\n      this._parentElement,\n      this.props.ymaps.Map,\n      this.props\n    );\n\n    this.setState({ instance });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.state.instance !== null) {\n      Map.updateObject(this.state.instance, prevProps, this.props);\n    }\n  }\n\n  componentWillUnmount() {\n    Map.unmountObject(this.state.instance, this.props);\n  }\n\n  render() {\n    const parentElementStyle = Map.getParentElementSize(this.props);\n    const separatedProps = events.separateEvents(this.props);\n\n    const parentElementProps = omit(separatedProps, [\n      '_events',\n      'state',\n      'defaultState',\n      'options',\n      'defaultOptions',\n      'instanceRef',\n      'ymaps',\n      'children',\n      'width',\n      'height',\n      'style',\n      'className',\n    ]);\n\n    return (\n      <ParentContext.Provider value={this.state.instance}>\n        <div ref={this._getRef} {...parentElementStyle} {...parentElementProps}>\n          {this.props.children}\n        </div>\n      </ParentContext.Provider>\n    );\n  }\n\n  static getParentElementSize(props) {\n    const { width, height, style, className } = props;\n\n    if (typeof style !== 'undefined' || typeof className !== 'undefined') {\n      return Object.assign({}, style && { style }, className && { className });\n    }\n\n    return { style: { width, height } };\n  }\n\n  static mountObject(parentElement, Map, props) {\n    const { instanceRef, _events } = events.separateEvents(props);\n\n    const state = getProp(props, 'state');\n    const options = getProp(props, 'options');\n\n    const instance = new Map(parentElement, state, options);\n\n    Object.keys(_events).forEach(key =>\n      events.addEvent(instance, key, _events[key])\n    );\n\n    if (typeof instanceRef === 'function') {\n      instanceRef(instance);\n    }\n\n    return instance;\n  }\n\n  static updateObject(instance, oldProps, newProps) {\n    const { _events: newEvents, instanceRef } = events.separateEvents(newProps);\n    const { _events: oldEvents, instanceRef: oldRef } = events.separateEvents(\n      oldProps\n    );\n\n    if (isControlledProp(newProps, 'state')) {\n      const oldState = getProp(oldProps, 'state', {});\n      const newState = getProp(newProps, 'state', {});\n\n      if (oldState.type !== newState.type) {\n        instance.setType(newState.type);\n      }\n\n      if (oldState.behaviors !== newState.behaviors) {\n        if (oldState.behaviors) instance.behaviors.disable(oldState.behaviors);\n        if (newState.behaviors) instance.behaviors.enable(newState.behaviors);\n      }\n\n      if (oldState.zoom !== newState.zoom) {\n        instance.setZoom(newState.zoom);\n      }\n\n      if (oldState.center !== newState.center) {\n        instance.setCenter(newState.center);\n      }\n\n      if (newState.bounds && oldState.bounds !== newState.bounds) {\n        instance.setBounds(newState.bounds);\n      }\n    }\n\n    if (isControlledProp(newProps, 'options')) {\n      const oldOptions = getProp(oldProps, 'options');\n      const newOptions = getProp(newProps, 'options', {});\n\n      if (oldOptions !== newOptions) {\n        instance.options.set(newOptions);\n      }\n    }\n\n    if (\n      getProp(oldProps, 'width') !== getProp(newProps, 'width') ||\n      getProp(oldProps, 'height') !== getProp(newProps, 'height')\n    ) {\n      instance.container.fitToViewport();\n    }\n\n    events.updateEvents(instance, oldEvents, newEvents);\n\n    // Mimic React callback ref behavior:\n    // https://reactjs.org/docs/refs-and-the-dom.html#caveats-with-callback-refs\n    if (oldRef !== instanceRef) {\n      if (typeof oldRef === 'function') oldRef(null);\n      if (typeof instanceRef === 'function') instanceRef(instance);\n    }\n  }\n\n  static unmountObject(instance, props) {\n    const { instanceRef, _events } = events.separateEvents(props);\n\n    if (instance !== null) {\n      Object.keys(_events).forEach(key =>\n        events.removeEvent(instance, key, _events[key])\n      );\n\n      instance.destroy();\n\n      if (typeof instanceRef === 'function') {\n        instanceRef(null);\n      }\n    }\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  const MapStatePropTypes = {\n    bounds: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)),\n    center: PropTypes.arrayOf(PropTypes.number),\n    controls: PropTypes.arrayOf(PropTypes.string),\n    behaviors: PropTypes.arrayOf(PropTypes.string),\n    margin: PropTypes.oneOfType([\n      PropTypes.arrayOf(PropTypes.number),\n      PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)),\n    ]),\n    type: PropTypes.oneOf(['yandex#map', 'yandex#satellite', 'yandex#hybrid']),\n    zoom: PropTypes.number,\n  };\n\n  // TODO: https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Map-docpage/\n  const MapOptionsPropTypes = {};\n\n  Map.propTypes = {\n    // Map state parameters\n    // https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Map-docpage/#param-state\n    state: PropTypes.shape(MapStatePropTypes),\n    defaultState: PropTypes.shape(MapStatePropTypes),\n\n    // TODO: https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Map-docpage/\n    options: PropTypes.shape(MapOptionsPropTypes),\n    defaultOptions: PropTypes.shape(MapOptionsPropTypes),\n\n    // ref prop but for YMaps object instances\n    instanceRef: PropTypes.func,\n\n    // Yandex.Maps API object\n    ymaps: PropTypes.object,\n\n    children: PropTypes.node,\n\n    /**\n     * Yandex.Maps Map parent element should have at least\n     * some size set to it, otherwise the map is rendered\n     * into the container with size 0\n     *\n     * To avoid this we will use `width` and `height` props as default\n     * way of sizing the map element, but then if we see that\n     * the library user also provides `style` or `className` prop,\n     * we will assume that the Map is sized by those and will\n     * not use these\n     */\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    style: PropTypes.object,\n    className: PropTypes.string,\n  };\n}\n\nMap.defaultProps = {\n  width: 320,\n  height: 240,\n};\n\nexport default withYMaps(Map, true, ['Map']);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport * as events from '../util/events';\nimport { getProp, isControlledProp } from '../util/props';\nimport { withParentContext, ParentContext } from '../Context';\nimport withYMaps from '../withYMaps';\n\nexport class Clusterer extends React.Component {\n  constructor() {\n    super();\n    this.state = { instance: null };\n  }\n\n  componentDidMount() {\n    const instance = Clusterer.mountObject(\n      this.props.ymaps.Clusterer,\n      this.props\n    );\n\n    this.setState({ instance });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.state.instance !== null) {\n      Clusterer.updateObject(this.state.instance, prevProps, this.props);\n    }\n  }\n\n  componentWillUnmount() {\n    Clusterer.unmountObject(this.state.instance, this.props);\n  }\n\n  render() {\n    return (\n      <ParentContext.Provider value={this.state.instance}>\n        {this.props.children}\n      </ParentContext.Provider>\n    );\n  }\n\n  static mountObject(Clusterer, props) {\n    const { instanceRef, parent, _events } = events.separateEvents(props);\n\n    const options = getProp(props, 'options');\n\n    const instance = new Clusterer(options);\n\n    Object.keys(_events).forEach(key =>\n      events.addEvent(instance, key, _events[key])\n    );\n\n    if (parent.geoObjects && typeof parent.geoObjects.add === 'function') {\n      parent.geoObjects.add(instance);\n    } else if (parent.add && typeof parent.add === 'function') {\n      parent.add(instance);\n    } else {\n      throw new Error('No parent found to mount Clusterer');\n    }\n\n    if (typeof instanceRef === 'function') {\n      instanceRef(instance);\n    }\n\n    return instance;\n  }\n\n  static updateObject(instance, oldProps, newProps) {\n    const { _events: newEvents, instanceRef } = events.separateEvents(newProps);\n    const { _events: oldEvents, instanceRef: oldRef } = events.separateEvents(\n      oldProps\n    );\n\n    if (isControlledProp(newProps, 'options')) {\n      const oldOptions = getProp(oldProps, 'options');\n      const newOptions = getProp(newProps, 'options');\n\n      if (oldOptions !== newOptions) {\n        instance.options.set(newOptions);\n      }\n    }\n\n    events.updateEvents(instance, oldEvents, newEvents);\n\n    // Mimic React callback ref behavior:\n    // https://reactjs.org/docs/refs-and-the-dom.html#caveats-with-callback-refs\n    if (oldRef !== instanceRef) {\n      if (typeof oldRef === 'function') oldRef(null);\n      if (typeof instanceRef === 'function') instanceRef(instance);\n    }\n  }\n\n  static unmountObject(instance, props) {\n    const { instanceRef, parent, _events } = events.separateEvents(props);\n\n    if (instance !== null) {\n      Object.keys(_events).forEach(key =>\n        events.removeEvent(instance, key, _events[key])\n      );\n\n      if (parent.geoObjects && typeof parent.geoObjects.remove === 'function') {\n        parent.geoObjects.remove(instance);\n      } else if (parent.remove && typeof parent.remove === 'function') {\n        parent.remove(instance);\n      }\n\n      if (typeof instanceRef === 'function') {\n        instanceRef(null);\n      }\n    }\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  const ClustererOptionsPropTypes = PropTypes.shape({});\n\n  Clusterer.propTypes = {\n    // Clusterer options\n    // https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Clusterer-docpage/\n    options: ClustererOptionsPropTypes,\n    defaultOptions: ClustererOptionsPropTypes,\n\n    // ref prop but for YMaps object instances\n    instanceRef: PropTypes.func,\n\n    // Yandex.Maps API object\n    ymaps: PropTypes.object,\n\n    // Clusterer parent object (e.g, ymaps.Map or ymaps.Clusterer)\n    parent: PropTypes.object,\n\n    children: PropTypes.node,\n  };\n}\n\nexport default withParentContext(withYMaps(Clusterer, true, ['Clusterer']));\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport * as events from '../util/events';\nimport { getProp, isControlledProp } from '../util/props';\nimport { withParentContext } from '../Context';\nimport withYMaps from '../withYMaps';\n\nexport class ObjectManager extends React.Component {\n  constructor() {\n    super();\n    this.state = { instance: null };\n  }\n\n  componentDidMount() {\n    const instance = ObjectManager.mountObject(\n      this.props.ymaps.ObjectManager,\n      this.props\n    );\n\n    this.setState({ instance });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.state.instance !== null) {\n      ObjectManager.updateObject(this.state.instance, prevProps, this.props);\n    }\n  }\n\n  componentWillUnmount() {\n    ObjectManager.unmountObject(this.state.instance, this.props);\n  }\n\n  render() {\n    return null;\n  }\n\n  static mountObject(ObjectManager, props) {\n    const { instanceRef, parent, _events } = events.separateEvents(props);\n\n    const options = getProp(props, 'options');\n    const features = getProp(props, 'features');\n    const filter = getProp(props, 'filter');\n    const objects = getProp(props, 'objects');\n    const clusters = getProp(props, 'clusters');\n\n    const instance = new ObjectManager(options);\n\n    instance.add(features || []);\n\n    instance.setFilter(filter);\n\n    instance.objects.options.set(objects);\n    instance.clusters.options.set(clusters);\n\n    Object.keys(_events).forEach(key =>\n      events.addEvent(instance, key, _events[key])\n    );\n\n    if (parent.geoObjects && typeof parent.geoObjects.add === 'function') {\n      parent.geoObjects.add(instance);\n    } else if (parent.add && typeof parent.add === 'function') {\n      parent.add(instance);\n    } else {\n      throw new Error('No parent found to mount ObjectManager');\n    }\n\n    if (typeof instanceRef === 'function') {\n      instanceRef(instance);\n    }\n\n    return instance;\n  }\n\n  static updateObject(instance, oldProps, newProps) {\n    const { _events: newEvents, instanceRef } = events.separateEvents(newProps);\n    const { _events: oldEvents, instanceRef: oldRef } = events.separateEvents(\n      oldProps\n    );\n\n    if (isControlledProp(newProps, 'options')) {\n      const oldOptions = getProp(oldProps, 'options');\n      const newOptions = getProp(newProps, 'options');\n\n      if (oldOptions !== newOptions) {\n        instance.options.set(newOptions);\n      }\n    }\n\n    if (isControlledProp(newProps, 'objects')) {\n      const oldObjectsOptions = getProp(oldProps, 'objects');\n      const newObjectsOptions = getProp(newProps, 'objects');\n\n      if (oldObjectsOptions !== newObjectsOptions) {\n        instance.objects.options.set(newObjectsOptions);\n      }\n    }\n\n    if (isControlledProp(newProps, 'clusters')) {\n      const oldClustersOptions = getProp(oldProps, 'clusters');\n      const newClustersOptions = getProp(newProps, 'clusters');\n\n      if (oldClustersOptions !== newClustersOptions) {\n        instance.clusters.options.set(newClustersOptions);\n      }\n    }\n\n    if (isControlledProp(newProps, 'filter')) {\n      const oldFilter = getProp(oldProps, 'filter');\n      const newFilter = getProp(newProps, 'filter');\n\n      if (oldFilter !== newFilter) {\n        instance.options.set(newFilter);\n      }\n    }\n\n    if (isControlledProp(newProps, 'features')) {\n      const oldFeatures = getProp(oldProps, 'features');\n      const newFeatures = getProp(newProps, 'features');\n\n      if (oldFeatures !== newFeatures) {\n        instance.remove(oldFeatures);\n        instance.add(newFeatures);\n      }\n    }\n\n    events.updateEvents(instance, oldEvents, newEvents);\n\n    // Mimic React callback ref behavior:\n    // https://reactjs.org/docs/refs-and-the-dom.html#caveats-with-callback-refs\n    if (oldRef !== instanceRef) {\n      if (typeof oldRef === 'function') oldRef(null);\n      if (typeof instanceRef === 'function') instanceRef(instance);\n    }\n  }\n\n  static unmountObject(instance, props) {\n    const { instanceRef, parent, _events } = events.separateEvents(props);\n\n    if (instance !== null) {\n      Object.keys(_events).forEach(key =>\n        events.removeEvent(instance, key, _events[key])\n      );\n\n      if (parent.geoObjects && typeof parent.geoObjects.remove === 'function') {\n        parent.geoObjects.remove(instance);\n      } else if (parent.remove && typeof parent.remove === 'function') {\n        parent.remove(instance);\n      }\n\n      if (typeof instanceRef === 'function') {\n        instanceRef(null);\n      }\n    }\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  const TYPE_FEATURE = 'Feature';\n\n  const TYPE_FEATURE_COLLECTION = 'FeatureCollection';\n\n  // https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/ObjectManager-docpage/#add-param-objects\n  const FeaturePropType = PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    type: PropTypes.oneOf([TYPE_FEATURE]).isRequired,\n    geometry: PropTypes.object.isRequired,\n    options: PropTypes.object,\n    properties: PropTypes.object,\n  });\n\n  // INFO: A hack to make recursive prop-type check work properly\n  const FeatureCollection = {\n    type: PropTypes.oneOf([TYPE_FEATURE_COLLECTION]).isRequired,\n  };\n\n  FeatureCollection.features = PropTypes.arrayOf(\n    PropTypes.oneOfType([PropTypes.shape(FeatureCollection), FeaturePropType])\n  ).isRequired;\n\n  const FeatureCollectionPropType = PropTypes.shape(FeatureCollection);\n\n  const FeaturesPropType = PropTypes.oneOfType([\n    PropTypes.arrayOf(\n      PropTypes.oneOfType([FeatureCollectionPropType, FeaturePropType])\n    ),\n    FeatureCollectionPropType,\n  ]);\n\n  const FilterPropType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n  ]);\n\n  // TODO\n  const ObjectManagerOptionsPropType = PropTypes.shape({});\n\n  // TODO\n  const ObjectManagerObjectsOptionsPropType = PropTypes.shape({});\n\n  // TODO\n  const ObjectManagerClustersOptionsPropType = PropTypes.shape({});\n\n  ObjectManager.propTypes = {\n    /**\n     * ObjectManager features\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/ObjectManager-docpage/#method_detail__add-param-objects\n     */\n    features: FeaturesPropType,\n    defaultFeatures: FeaturesPropType,\n\n    /**\n     * ObjectManager features filter\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/ObjectManager-docpage/#method_detail__setFilter-param-filterFunction\n     */\n    filter: FilterPropType,\n    defaultFilter: FilterPropType,\n\n    /**\n     * ObjectManager options\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/ObjectManager-docpage/#ObjectManager__param-options\n     */\n    options: ObjectManagerOptionsPropType,\n    defaultOptions: ObjectManagerOptionsPropType,\n\n    /** ObjectManager object options */\n    objects: ObjectManagerObjectsOptionsPropType,\n    defaultObjects: ObjectManagerObjectsOptionsPropType,\n\n    /** ObjectManager clusters options */\n    clusters: ObjectManagerClustersOptionsPropType,\n    defaultClusters: ObjectManagerClustersOptionsPropType,\n\n    /** ref prop but for Yandex.Maps object instances */\n    instanceRef: PropTypes.func,\n\n    /** Yandex.Maps API object */\n    ymaps: PropTypes.object,\n\n    /** Parent object (e.g, ymaps.Map or ymaps.Clusterer) */\n    parent: PropTypes.object,\n  };\n}\n\nexport default withParentContext(\n  withYMaps(ObjectManager, true, ['ObjectManager'])\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport * as events from '../util/events';\nimport { getProp, isControlledProp } from '../util/props';\nimport { withParentContext } from '../Context';\nimport withYMaps from '../withYMaps';\n\nexport class BaseGeoObject extends React.Component {\n  constructor() {\n    super();\n    this.state = { instance: null };\n  }\n\n  componentDidMount() {\n    const { name, dangerZone, ymaps } = this.props;\n\n    const instance = BaseGeoObject.mountObject(\n      dangerZone && dangerZone.modifyConstructor\n        ? dangerZone.modifyConstructor(ymaps[name])\n        : ymaps[name],\n      this.props\n    );\n\n    this.setState({ instance });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.state.instance !== null) {\n      BaseGeoObject.updateObject(this.state.instance, prevProps, this.props);\n    }\n  }\n\n  componentWillUnmount() {\n    BaseGeoObject.unmountObject(this.state.instance, this.props);\n  }\n\n  render() {\n    return null;\n  }\n\n  static mountObject(GeoObject, props) {\n    const { instanceRef, parent, _events } = events.separateEvents(props);\n\n    const geometry = getProp(props, 'geometry');\n    const properties = getProp(props, 'properties');\n    const options = getProp(props, 'options');\n\n    const instance = new GeoObject(geometry, properties, options);\n\n    Object.keys(_events).forEach(key =>\n      events.addEvent(instance, key, _events[key])\n    );\n\n    if (\n      parent &&\n      parent.geoObjects &&\n      typeof parent.geoObjects.add === 'function'\n    ) {\n      parent.geoObjects.add(instance);\n    } else if (parent && parent.add && typeof parent.add === 'function') {\n      parent.add(instance);\n    } else {\n      throw new Error(`No parent found to mount ${props.name}`);\n    }\n\n    if (typeof instanceRef === 'function') {\n      instanceRef(instance);\n    }\n\n    return instance;\n  }\n\n  static updateObject(instance, oldProps, newProps) {\n    const { _events: newEvents, instanceRef } = events.separateEvents(newProps);\n    const { _events: oldEvents, instanceRef: oldRef } = events.separateEvents(\n      oldProps\n    );\n\n    if (isControlledProp(newProps, 'geometry')) {\n      const oldGeometry = getProp(oldProps, 'geometry', {});\n      const newGeometry = getProp(newProps, 'geometry', {});\n\n      if (Array.isArray(newGeometry) && newGeometry !== oldGeometry) {\n        if (\n          // Circle geometry is a special case\n          Array.isArray(newGeometry[0]) &&\n          typeof newGeometry[1] === 'number'\n        ) {\n          instance.geometry.setCoordinates(newGeometry[0]);\n          instance.geometry.setRadius(newGeometry[1]);\n        } else {\n          instance.geometry.setCoordinates(newGeometry);\n        }\n      } else if (typeof newGeometry === 'object') {\n        if (newGeometry.coordinates !== oldGeometry.coordinates) {\n          instance.geometry.setCoordinates(newGeometry.coordinates);\n        }\n\n        if (newGeometry.radius !== oldGeometry.radius) {\n          instance.geometry.setRadius(newGeometry.radius);\n        }\n      }\n    }\n\n    if (isControlledProp(newProps, 'properties')) {\n      const oldProperties = getProp(oldProps, 'properties');\n      const newProperties = getProp(newProps, 'properties');\n\n      if (oldProperties !== newProperties) {\n        instance.properties.set(newProperties);\n      }\n    }\n\n    if (isControlledProp(newProps, 'options')) {\n      const oldOptions = getProp(oldProps, 'options');\n      const newOptions = getProp(newProps, 'options');\n\n      if (oldOptions !== newOptions) {\n        instance.options.set(newOptions);\n      }\n    }\n\n    events.updateEvents(instance, oldEvents, newEvents);\n\n    // Mimic React callback ref behavior:\n    // https://reactjs.org/docs/refs-and-the-dom.html#caveats-with-callback-refs\n    if (oldRef !== instanceRef) {\n      if (typeof oldRef === 'function') oldRef(null);\n      if (typeof instanceRef === 'function') instanceRef(instance);\n    }\n  }\n\n  static unmountObject(instance, props) {\n    const { instanceRef, parent, _events } = events.separateEvents(props);\n\n    if (instance !== null) {\n      Object.keys(_events).forEach(key =>\n        events.removeEvent(instance, key, _events[key])\n      );\n\n      if (parent.geoObjects && typeof parent.geoObjects.remove === 'function') {\n        parent.geoObjects.remove(instance);\n      } else if (parent.remove && typeof parent.remove === 'function') {\n        parent.remove(instance);\n      }\n\n      if (typeof instanceRef === 'function') {\n        instanceRef(null);\n      }\n    }\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  BaseGeoObject.propTypes = {\n    /** ref prop but for Yandex.Maps object instances */\n    instanceRef: PropTypes.func,\n\n    /** Yandex.Maps API object */\n    ymaps: PropTypes.object,\n\n    /** Parent object (e.g, ymaps.Map or ymaps.Clusterer) */\n    parent: PropTypes.object,\n\n    /** GeoObject name */\n    name: PropTypes.oneOf([\n      'GeoObject',\n      'Placemark',\n      'Polyline',\n      'Rectangle',\n      'Polygon',\n      'Circle',\n    ]).isRequired,\n\n    /**\n     * Escape hatch to modofy constructor before passing it to `mountObject`\n     * This is needed to unify GeoObject with other GeoObjects, use at your own risk\n     */\n    dangerZone: PropTypes.shape({\n      modifyConstructor: PropTypes.func,\n    }),\n  };\n}\n\nexport function createGeoObject(name, propTypes, modifyConstructor) {\n  const GeoObject = props => (\n    <BaseGeoObject\n      name={name}\n      dangerZone={modifyConstructor ? { modifyConstructor } : void 0}\n      {...props}\n    />\n  );\n\n  if (process.env.NODE_ENV !== 'production') {\n    GeoObject.displayName = name;\n    GeoObject.propTypes = propTypes;\n  }\n\n  return withParentContext(withYMaps(GeoObject, true, [name]));\n}\n","import PropTypes from 'prop-types';\nimport { createGeoObject } from './createGeoObject';\n\nconst GeoObjectGeometryPropTypes = PropTypes.shape({\n  type: PropTypes.oneOf([\n    'Point',\n    'LineString',\n    'Rectangle',\n    'Polygon',\n    'Circle',\n  ]).isRequired,\n  coordinates: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.number),\n    PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)),\n    PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number))),\n  ]).isRequired,\n  radius: PropTypes.number,\n});\n\nexport const GeoObject = createGeoObject(\n  'GeoObject',\n  process.env.NODE_ENV !== 'production' && {\n    /**\n     * GeoObject feature.geometry\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/GeoObject-docpage/#param-feature.geometry\n     */\n    geometry: GeoObjectGeometryPropTypes,\n    defaultGeometry: GeoObjectGeometryPropTypes,\n\n    /**\n     * GeoObject feature.properties\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/GeoObject-docpage/#param-feature.properties\n     */\n    properties: PropTypes.shape({}),\n    defaultProperties: PropTypes.shape({}),\n\n    /**\n     * GeoObject options\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/GeoObject-docpage/#param-options\n     */\n    options: PropTypes.shape({}),\n    defaultOptions: PropTypes.shape({}),\n  },\n  Constructor => {\n    /**\n     * The only difference between GeoObject and all the other,\n     * more specific GeoObject constructors (like Placemark, Circle,\n     * or Polyline) is the way in which the arguments are passed to\n     * the constructor. GeoObject expects `feature` with `geometry` and\n     * `properties` keys and all the other GeoObject constructors\n     * expect `geometry` and `properties` as separate arguments\n     *\n     * We will hack around this difference with our custom constructor.\n     * That way we can completely reuse GeoObject static methods.\n     */\n    const __Constructor = Constructor;\n\n    function GeoObjectConstructor(geometry, properties, options) {\n      __Constructor.call(this, { geometry, properties }, options);\n    }\n\n    GeoObjectConstructor.prototype = Constructor.prototype;\n\n    return GeoObjectConstructor;\n  }\n);\n\nconst CircleGeometryPropTypes = PropTypes.arrayOf(\n  PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)])\n);\n\nexport const Circle = createGeoObject(\n  'Circle',\n  process.env.NODE_ENV !== 'production' && {\n    /**\n     * Circle geometry\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Circle-docpage/#param-geometry\n     */\n    geometry: CircleGeometryPropTypes,\n    defaultGeometry: CircleGeometryPropTypes,\n\n    /**\n     * Circle properties\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Circle-docpage/#param-properties\n     */\n    properties: PropTypes.shape({}),\n    defaultProperties: PropTypes.shape({}),\n\n    /**\n     * Circle options\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Circle-docpage/#param-options\n     */\n    options: PropTypes.shape({}),\n    defaultOptions: PropTypes.shape({}),\n  }\n);\n\nconst PlacemarkGeometryPropTypes = PropTypes.arrayOf(PropTypes.number);\n\nexport const Placemark = createGeoObject(\n  'Placemark',\n  process.env.NODE_ENV !== 'production' && {\n    /**\n     * Placemark geometry\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Placemark-docpage/#param-geometry\n     */\n    geometry: PlacemarkGeometryPropTypes,\n    defaultGeometry: PlacemarkGeometryPropTypes,\n\n    /**\n     * Placemark properties\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Placemark-docpage/#param-properties\n     */\n    properties: PropTypes.shape({}),\n    defaultProperties: PropTypes.shape({}),\n\n    /**\n     * Placemark options\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Placemark-docpage/#param-options\n     */\n    options: PropTypes.shape({}),\n    defaultOptions: PropTypes.shape({}),\n  }\n);\n\nconst PolygonGeometryPropTypes = PropTypes.arrayOf(\n  PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number))\n);\n\nexport const Polygon = createGeoObject(\n  'Polygon',\n  process.env.NODE_ENV !== 'production' && {\n    /**\n     * Polygon geometry\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polygon-docpage/#param-geometry\n     */\n    geometry: PolygonGeometryPropTypes,\n    defaultGeometry: PolygonGeometryPropTypes,\n\n    /**\n     * Polygon properties\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polygon-docpage/#param-properties\n     */\n    properties: PropTypes.shape({}),\n    defaultProperties: PropTypes.shape({}),\n\n    /**\n     * Polygon options\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polygon-docpage/#param-options\n     */\n    options: PropTypes.shape({}),\n    defaultOptions: PropTypes.shape({}),\n  }\n);\n\nconst PolylineGeometryPropTypes = PropTypes.arrayOf(\n  PropTypes.arrayOf(PropTypes.number)\n);\n\nexport const Polyline = createGeoObject(\n  'Polyline',\n  process.env.NODE_ENV !== 'production' && {\n    /**\n     * Polyline geometry\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polyline-docpage/#param-geometry\n     */\n    geometry: PolylineGeometryPropTypes,\n    defaultGeometry: PolylineGeometryPropTypes,\n\n    /**\n     * Polyline properties\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polyline-docpage/#param-properties\n     */\n    properties: PropTypes.shape({}),\n    defaultProperties: PropTypes.shape({}),\n\n    /**\n     * Polyline options\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polyline-docpage/#param-options\n     */\n    options: PropTypes.shape({}),\n    defaultOptions: PropTypes.shape({}),\n  }\n);\n\nconst RectangleGeometryPropTypes = PropTypes.arrayOf(\n  PropTypes.arrayOf(PropTypes.number)\n);\n\nexport const Rectangle = createGeoObject(\n  'Rectangle',\n  process.env.NODE_ENV !== 'production' && {\n    /**\n     * Rectangle geometry\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Rectangle-docpage/#param-geometry\n     */\n    geometry: RectangleGeometryPropTypes,\n    defaultGeometry: RectangleGeometryPropTypes,\n\n    /**\n     * Rectangle properties\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Rectangle-docpage/#param-properties\n     */\n    properties: PropTypes.shape({}),\n    defaultProperties: PropTypes.shape({}),\n\n    /**\n     * Rectangle options\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Rectangle-docpage/#param-options\n     */\n    options: PropTypes.shape({}),\n    defaultOptions: PropTypes.shape({}),\n  }\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport * as events from '../util/events';\nimport { getProp, isControlledProp } from '../util/props';\nimport { withParentContext, ParentContext } from '../Context';\nimport withYMaps from '../withYMaps';\n\nexport class BaseControl extends React.Component {\n  constructor() {\n    super();\n    this.state = { instance: null };\n  }\n\n  componentDidMount() {\n    const instance = BaseControl.mountControl(\n      this.props.ymaps.control[this.props.name],\n      this.props\n    );\n\n    this.setState({ instance });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.state.instance !== null) {\n      BaseControl.updateControl(this.state.instance, prevProps, this.props);\n    }\n  }\n\n  componentWillUnmount() {\n    BaseControl.unmountControl(this.state.instance, this.props);\n  }\n\n  render() {\n    return (\n      <ParentContext.Provider value={this.state.instance}>\n        {this.props.children}\n      </ParentContext.Provider>\n    );\n  }\n\n  static mountControl(Control, props) {\n    const { instanceRef, parent, lazy, _events } = events.separateEvents(props);\n\n    const data = getProp(props, 'data');\n    const options = getProp(props, 'options');\n    const state = getProp(props, 'state');\n    const mapTypes = getProp(props, 'mapTypes');\n\n    const instance = new Control({ data, options, state, mapTypes, lazy });\n\n    Object.keys(_events).forEach(key =>\n      events.addEvent(instance, key, _events[key])\n    );\n\n    if (\n      parent &&\n      parent.controls &&\n      typeof parent.controls.add === 'function'\n    ) {\n      parent.controls.add(instance);\n    } else if (parent && parent.add && typeof parent.add === 'function') {\n      parent.add(instance);\n    } else {\n      throw new Error(`No parent found to mount ${props.name}`);\n    }\n\n    if (typeof instanceRef === 'function') {\n      instanceRef(instance);\n    }\n\n    return instance;\n  }\n\n  static updateControl(instance, oldProps, newProps) {\n    const { _events: newEvents, instanceRef } = events.separateEvents(newProps);\n    const { _events: oldEvents, instanceRef: oldRef } = events.separateEvents(\n      oldProps\n    );\n\n    if (isControlledProp(newProps, 'options')) {\n      const oldOptions = getProp(oldProps, 'options');\n      const newOptions = getProp(newProps, 'options');\n\n      if (oldOptions !== newOptions) {\n        instance.options.set(newOptions);\n      }\n    }\n\n    if (isControlledProp(newProps, 'data')) {\n      const oldData = getProp(oldProps, 'data');\n      const newData = getProp(newProps, 'data');\n\n      if (oldData !== newData) {\n        instance.data.set(newData);\n      }\n    }\n\n    if (isControlledProp(newProps, 'state')) {\n      const oldState = getProp(oldProps, 'state');\n      const newState = getProp(newProps, 'state');\n\n      if (oldState !== newState) {\n        instance.state.set(newState);\n      }\n    }\n\n    if (isControlledProp(newProps, 'mapTypes')) {\n      const oldMapTypes = getProp(oldProps, 'mapTypes');\n      const newMapTypes = getProp(newProps, 'mapTypes');\n\n      if (oldMapTypes !== newMapTypes) {\n        instance.removeAllMapTypes();\n        newMapTypes.forEach(type => instance.addMapType(type));\n      }\n    }\n\n    events.updateEvents(instance, oldEvents, newEvents);\n\n    // Mimic React callback ref behavior:\n    // https://reactjs.org/docs/refs-and-the-dom.html#caveats-with-callback-refs\n    if (oldRef !== instanceRef) {\n      if (typeof oldRef === 'function') oldRef(null);\n      if (typeof instanceRef === 'function') instanceRef(instance);\n    }\n  }\n\n  static unmountControl(instance, props) {\n    const { instanceRef, parent, _events } = events.separateEvents(props);\n\n    if (instance !== null) {\n      Object.keys(_events).forEach(key =>\n        events.removeEvent(instance, key, _events[key])\n      );\n\n      if (parent.controls && typeof parent.controls.remove === 'function') {\n        parent.controls.remove(instance);\n      } else if (parent.remove && typeof parent.remove === 'function') {\n        parent.remove(instance);\n      }\n\n      if (typeof instanceRef === 'function') {\n        instanceRef(null);\n      }\n    }\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  BaseControl.propTypes = {\n    children: PropTypes.node,\n\n    /** ref prop but for Yandex.Maps object instances */\n    instanceRef: PropTypes.func,\n\n    /** Yandex.Maps API object */\n    ymaps: PropTypes.object,\n\n    /** Parent object (e.g, ymaps.Map or ymaps.Clusterer) */\n    parent: PropTypes.object,\n\n    /** Control name */\n    name: PropTypes.oneOf([\n      'Button',\n      'FullscreenControl',\n      'GeolocationControl',\n      'ListBox',\n      'ListBoxItem',\n      'RouteButton',\n      'RouteEditor',\n      'RoutePanel',\n      'RulerControl',\n      'SearchControl',\n      'TrafficControl',\n      'TypeSelector',\n      'ZoomControl',\n    ]).isRequired,\n  };\n}\n\nexport function createControl(name, propTypes) {\n  const Control = props => <BaseControl name={name} {...props} />;\n\n  if (process.env.NODE_ENV !== 'production') {\n    Control.displayName = name;\n    Control.propTypes = propTypes;\n  }\n\n  return withParentContext(withYMaps(Control, true, [`control.${name}`]));\n}\n","import PropTypes from 'prop-types';\nimport { createControl } from './createControl';\n\nexport const Button = createControl(\n  'Button',\n  process.env.NODE_ENV !== 'production' &&\n    {\n      /* TODO: PropTypes */\n    }\n);\n\nexport const FullscreenControl = createControl(\n  'FullscreenControl',\n  process.env.NODE_ENV !== 'production' &&\n    {\n      /* TODO: PropTypes */\n    }\n);\n\nexport const GeolocationControl = createControl(\n  'GeolocationControl',\n  process.env.NODE_ENV !== 'production' &&\n    {\n      /* TODO: PropTypes */\n    }\n);\n\nexport const ListBox = createControl(\n  'ListBox',\n  process.env.NODE_ENV !== 'production' &&\n    {\n      /* TODO: PropTypes */\n    }\n);\n\nexport const ListBoxItem = createControl(\n  'ListBoxItem',\n  process.env.NODE_ENV !== 'production' &&\n    {\n      /* TODO: PropTypes */\n    }\n);\n\nexport const RouteButton = createControl(\n  'RouteButton',\n  process.env.NODE_ENV !== 'production' && {\n    /**\n     * If set to true, all modules needed to work with routes will be loaded lazily when the user opens the panel the first time.\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RouteButton-docpage/#control.RouteButton__param-parameters.lazy\n     */\n    lazy: PropTypes.bool,\n  }\n);\n\nexport const RouteEditor = createControl(\n  'RouteEditor',\n  process.env.NODE_ENV !== 'production' &&\n    {\n      /* TODO: PropTypes */\n    }\n);\n\nexport const RoutePanel = createControl(\n  'RoutePanel',\n  process.env.NODE_ENV !== 'production' &&\n    {\n      /* TODO: PropTypes */\n    }\n);\n\nexport const RulerControl = createControl(\n  'RulerControl',\n  process.env.NODE_ENV !== 'production' &&\n    {\n      /* TODO: PropTypes */\n    }\n);\n\nexport const SearchControl = createControl(\n  'SearchControl',\n  process.env.NODE_ENV !== 'production' &&\n    {\n      /* TODO: PropTypes */\n    }\n);\n\nexport const TrafficControl = createControl(\n  'TrafficControl',\n  process.env.NODE_ENV !== 'production' &&\n    {\n      /* TODO: PropTypes */\n    }\n);\n\nexport const TypeSelector = createControl(\n  'TypeSelector',\n  process.env.NODE_ENV !== 'production' && {\n    /**\n     * Array of constructors for map types or keys. If the parameter is omitted, the item is added to the standard set of map types.\n     * https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.TypeSelector-docpage/#control.TypeSelector__param-parameters.mapTypes\n     */\n    mapTypes: PropTypes.arrayOf(\n      PropTypes.oneOf(['yandex#map', 'yandex#satellite', 'yandex#hybrid'])\n    ),\n    defaultMapTypes: PropTypes.arrayOf(\n      PropTypes.oneOf(['yandex#map', 'yandex#satellite', 'yandex#hybrid'])\n    ),\n  }\n);\n\nexport const ZoomControl = createControl(\n  'ZoomControl',\n  process.env.NODE_ENV !== 'production' &&\n    {\n      /* TODO: PropTypes */\n    }\n);\n"],"names":["emptyFunction","module","shim","props","propName","componentName","location","propFullName","secret","ReactPropTypesSecret","err","Error","name","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","element","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","require$$0","key","global","makeEmptyFunction","arg","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsNull","thatReturnsThis","this","thatReturnsArgument","exports","_interopRequireDefault","_react","_propTypes2","_propTypes","_gud2","_gud","_warning","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","MAX_SIGNED_31_BIT_INT","defaultValue","calculateChangedBits","_Provider$childContex","_Consumer$contextType","contextProp","Provider","_Component","_temp","_this","handlers","_len","arguments","length","args","Array","_key","apply","concat","emitter","on","handler","push","off","filter","h","get","set","newValue","changedBits","forEach","getChildContext","_ref","componentWillReceiveProps","nextProps","oldValue","x","y","render","children","Component","childContextTypes","Consumer","_Component2","_temp2","_this2","_len2","_key2","state","getValue","onUpdate","observedBits","setState","componentDidMount","context","componentWillUnmount","isArray","contextTypes","_react2","_implementation2","_implementation","createContext","defineProperty","displayName","YMapsContext","createReactContext","withYMapsContext","React","ymaps","message","ParentContext","withParentContext","parent","defaultQuery","lang","load","ns","mode","YMapsPromiseMap","YMaps","options","hash","Date","now","toString","namespace","query","onload","onloadCallback","onerror","onerrorCallback","api","promise","window","getApi","Promise","resolve","setApi","getPromise","setPromise","assign","queryString","keys","map","join","url","getBaseUrl","enterprise","version","reject","loadModule","bind","ready","fetchScript","catch","script","document","createElement","type","src","async","head","appendChild","moduleName","_this3","modules","require","Module","path","ifNotExists","split","slice","ref","shift","_name","isEnterprise","preload","defaultProps","omit","arr","res","n","indexOf","withYMaps","waitForApi","WithYMaps","loading","_isMounted","then","all","onLoad","onError","shouldRender","Function","EVENTS_REGEX","separateEvents","reduce","acc","test","eventName","replace","toLowerCase","_events","addEvent","events","add","removeEvent","remove","updateEvents","oldEvents","newEvents","defaultName","charAt","toUpperCase","isControlledProp","undefined","getProp","Map","_parentElement","_getRef","mountObject","prevProps","updateObject","unmountObject","parentElementStyle","getParentElementSize","separatedProps","parentElementProps","width","height","style","className","parentElement","instanceRef","oldProps","newProps","oldRef","oldState","newState","setType","behaviors","disable","enable","zoom","setZoom","center","setCenter","bounds","setBounds","oldOptions","newOptions","container","fitToViewport","destroy","Clusterer","geoObjects","ObjectManager","features","objects","clusters","setFilter","oldObjectsOptions","newObjectsOptions","oldClustersOptions","newClustersOptions","oldFilter","newFilter","oldFeatures","newFeatures","BaseGeoObject","dangerZone","modifyConstructor","GeoObject","oldGeometry","newGeometry","geometry","setCoordinates","setRadius","_typeof","coordinates","radius","oldProperties","newProperties","properties","createGeoObject","propTypes","__Constructor","GeoObjectConstructor","Circle","Placemark","Polygon","Polyline","Rectangle","BaseControl","mountControl","control","updateControl","unmountControl","Control","lazy","data","mapTypes","controls","oldData","newData","oldMapTypes","newMapTypes","removeAllMapTypes","addMapType","createControl","Button","FullscreenControl","GeolocationControl","ListBox","ListBoxItem","RouteButton","RouteEditor","RoutePanel","RulerControl","SearchControl","TrafficControl","TypeSelector","ZoomControl"],"mappings":"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"}